<h1 id="jqueryminical">jQuery.minical</h1>

<h2 id="usage">Usage</h2>

<p>Include <a href="https://github.com/camerond/jquery-minical/blob/master/source/javascripts/jquery.minical.js.coffee">jquery.minical.coffee</a> and <a href="https://github.com/camerond/jquery-minical/blob/master/source/stylesheets/jquery.minical.css.sass">jquery.minical.sass</a>, then:</p>

<p><code>$my_cool_input.minical()</code></p>

<p>Feel free to <a href="https://github.com/camerond/jquery-minical">check out the source on GitHub</a>.</p>

<h2 id="why-its-awesome">Why It's Awesome</h2>

<p>Minical is teeny (~300 lines of Coffeescript), and has no dependencies other than jQuery. It has full keyboard support. It's an easy way to get your users to input a readable, parsable date value.</p>

<h2 id="skinning">Skinning</h2>

<p>Minical exposes a few Sass variables for easy skinning:</p>

<ul>
  <li><code>$mc_font-family</code></li>
  <li><code>$mc_background</code></li>
  <li><code>$mc_border</code></li>
  <li><code>$mc_text</code></li>
  <li><code>$mc_highlight</code></li>
</ul>

<h2 id="initializing">Initializing</h2>

<p>JavaScript date parsing is a pain, and it's entirely possible that the date format you want displayed in your input won't be one that JS can parse. If your page ever loads with a value already in the Minical-enabled input, Minical needs a JavaScript-parseable date in order to set its initial value properly.</p>

<p>In this case, you can just output a <code>data-minical-initial</code> attribute on your input element, give it a Javascript-parseable string, and Minical will initialize using that attribute instead of attempting to parse the value of your input. (Minical will also write that value to the input via the <code>date_format</code> method, so you don't even need to set an initial value for the input itself.)</p>

<p>Either string or integer formats will work, but the most foolproof <code>data-minical-initial</code> attribute seems to be JavaScript's conversion of a date object to an integer (e.g. <code>+my_date_object</code>). This renders a value of <code>12/13/2013</code> using the default date_format method:</p>

<p><code>
&lt;input data-minical-initial="1386967591204"&gt;
</code></p>

<h2 id="interface">Interface</h2>

<p>Minical tracks its own state internally, so just changing its input's value directly will cause the two to get out of sync. You can manipulate a Minical instance through some external methods:</p>

<ul>
  <li><code>$input.minical('clear')</code> clears the input and resets Minical to its initial state</li>
  <li><code>$input.minical('select', date_obj)</code> sets Minical to the date specified by the passed Javascript date object. (This is fired as a <code>change.minical_external</code> event rather than a <code>change.minical</code> event)</li>
  <li><code>$input.minical('destroy')</code> removes the Minical element completely</li>
</ul>

<h2 id="options">Options</h2>

<ul>
  <li><code>offset</code>: positions calendar relative to the bottom-left corner of the input
    <ul>
      <li><code>x</code> defaults to 0</li>
      <li><code>y</code> defaults to 5</li>
    </ul>
  </li>
  <li><code>trigger</code>: A function (run in the context of the minical-enhanced input) that returns a jQuery object of the desired trigger, or a string selector to specify a trigger element (like the calendar icon in the examples). The string selector can be a child or sibling of the element on which you call <code>.minical()</code>.</li>
  <li><code>align_to_trigger</code>: (boolean) align the calendar to the trigger instead of the input. Defaults to <code>true</code>.</li>
  <li><code>read_only</code>: makes the date/text input only modifiable by the calendar. Defaults to <code>true</code>.</li>
  <li><code>date_format</code>: allows you to output a custom date format from the chosen Date object (defaults to MM/DD/YYYY)</li>
  <li><code>from</code> and <code>to</code>: date objects specifying min and max valid dates.</li>
  <li><code>date_changed</code>: callback that fires after the input or dropdowns have changed value.</li>
  <li><code>month_drawn</code>: callback that fires when a new month is rendered.</li>
  <li><code>appendCalendarTo</code>: function; should return jQuery element. Minical appends to <code>body</code> by default.</li>
  <li><code>initialize_with_date</code>: defaults to true; Minical will write the initial date to the input (either via data-minical-initial or just by displaying today)</li>
  <li><code>show_clear_link</code>: defaults to false; displays a 'clear date' link in the calendar popout</li>
</ul>

